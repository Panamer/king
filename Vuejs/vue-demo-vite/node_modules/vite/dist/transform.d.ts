import { ServerPlugin } from './server';
import { Plugin as RollupPlugin } from 'rollup';
declare type ParsedQuery = Record<string, string | string[] | undefined>;
export interface Transform {
    test: (path: string, query: ParsedQuery) => boolean;
    transform: (code: string, 
    /**
     * Indicates whether this is a request made by js import(), or natively by
     * the browser (e.g. `<img src="...">`).
     */
    isImport: boolean, isBuild: boolean, path: string, query: ParsedQuery) => string | Promise<string>;
}
export declare type CustomBlockTransform = (src: string, attrs: Record<string, string>) => string | Promise<string>;
export declare function createServerTransformPlugin(transforms: Transform[], customBlockTransforms: Record<string, CustomBlockTransform>): ServerPlugin;
export declare function createBuildJsTransformPlugin(transforms: Transform[], customBlockTransforms: Record<string, CustomBlockTransform>): RollupPlugin;
export {};
